{
    "swagger": "2.0",
    "info": {
        "description": "This is the API document for xspace server.",
        "title": "Xspace-Server API",
        "contact": {},
        "version": "1.0"
    },
    "host": "test-xs-api.memolabs.net",
    "basePath": "/",
    "paths": {
        "/v1/challenge": {
            "get": {
                "description": "Get the challenge message by address before you login",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Login"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "User's address (connect to xspace)",
                        "name": "address",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The network ID which the user's wallet is connected to",
                        "name": "chainid",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The frontend's domain",
                        "name": "Origin",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The challenge message",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/login": {
            "post": {
                "description": "Use the signMessage method to sign the challenge message. After signing, call the login interface to complete the login.\nIf the login is successful, the Login API will return an Access Token and a Refresh Token. When accessing subsequent APIs, you need to add the Authorization field in the headers with the value \"Bearer Your_Access_Token\"",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Login"
                ],
                "parameters": [
                    {
                        "description": "The challenge message",
                        "name": "message",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "The result after the user's private key signs the challenge message",
                        "name": "signature",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The access token and refresh token",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {}
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/nft/data/info": {
            "get": {
                "description": "Get DataNFT content",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/octet-stream"
                ],
                "tags": [
                    "NFT"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "DataNFT's id",
                        "name": "tokenID",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "DataNFT binary content",
                        "schema": {
                            "type": "file"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {}
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/nft/data/mint": {
            "post": {
                "description": "Mint user's data into NFTs",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "NFT"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "User's data",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.MintRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/nft/list": {
            "get": {
                "description": "List all NFT information belonging to the user",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "NFT"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Pages",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The amount of data displayed on each page",
                        "name": "size",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "NFT type (tweet for tweetNFT, data for dataNFT, tweetNFT and dataNFT will be all listed by default)",
                        "name": "type",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Order rules (date_asc for sorting by creation time from smallest to largest, date_desc for sorting by creation time from largest to smallest)",
                        "name": "order",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.ListNFTRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/nft/tweet/info": {
            "get": {
                "description": "Get TweetNFT content",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "NFT"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "TweetNFT's id",
                        "name": "tokenID",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.TweetNFTInfoRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {}
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/nft/tweet/mint": {
            "post": {
                "description": "Mint user's tweets into NFTs",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "NFT"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "User's twtter/x name",
                        "name": "name",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "The timestamp when the user posted the tweet",
                        "name": "postTime",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "description": "The text of the tweet(including emoji)",
                        "name": "tweet",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "description": "The image url of the tweet",
                        "name": "image",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.MintRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/point/charge": {
            "post": {
                "description": "Users can charge once every 6 hours",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Point"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.UserInfoRes"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/point/history": {
            "get": {
                "description": "Get the history of the point info by address",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Point"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Pages",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The amount of data displayed on each page",
                        "name": "size",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The action id",
                        "name": "actionID",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Order rules (date_asc for sorting by creation time from smallest to largest, date_desc for sorting by creation time from largest to smallest)",
                        "name": "order",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.PointHistoryRes"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {}
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/point/info": {
            "get": {
                "description": "Get the user's point info by address",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.PointInfoRes"
                        }
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/project/list": {
            "get": {
                "description": "List all projects with Xspace",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Rank"
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.ListProjectsRes"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/project/rank": {
            "get": {
                "description": "Get the ranking of cooperative projects",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Rank"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "cooperative project id",
                        "name": "id",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Pages",
                        "name": "page",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "The amount of data displayed on each page",
                        "name": "size",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.RankRes"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/refresh": {
            "post": {
                "description": "If the access token expires, you can call the refresh API to get a new access token or log in again.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Login"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_FRESH_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The access token",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {}
                    }
                }
            }
        },
        "/v1/user/info": {
            "get": {
                "description": "Get the user basic info by address",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "User"
                ],
                "parameters": [
                    {
                        "type": "string",
                        "description": "Bearer YOUR_ACCESS_TOKEN",
                        "name": "Authorization",
                        "in": "header",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/types.UserInfoRes"
                        }
                    },
                    "520": {
                        "description": "",
                        "schema": {}
                    }
                }
            }
        }
    },
    "definitions": {
        "database.ActionStore": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "point": {
                    "type": "integer"
                },
                "time": {
                    "type": "string"
                }
            }
        },
        "database.NFTStore": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "cid": {
                    "type": "string"
                },
                "createTime": {
                    "type": "string"
                },
                "tokenId": {
                    "type": "integer"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "types.ListNFTRes": {
            "type": "object",
            "properties": {
                "nftInfos": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.NFTStore"
                    }
                }
            }
        },
        "types.ListProjectsRes": {
            "type": "object",
            "properties": {
                "projects": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/types.ProjectInfo"
                    }
                }
            }
        },
        "types.MintRes": {
            "type": "object",
            "properties": {
                "tokenID": {
                    "type": "integer"
                }
            }
        },
        "types.PointHistoryRes": {
            "type": "object",
            "properties": {
                "history": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/database.ActionStore"
                    }
                }
            }
        },
        "types.PointInfoRes": {
            "type": "object",
            "properties": {
                "charging": {
                    "type": "boolean"
                },
                "chargingCount": {
                    "type": "integer"
                },
                "godataCount": {
                    "type": "integer"
                },
                "godataSpace": {
                    "type": "integer"
                },
                "points": {
                    "type": "integer"
                }
            }
        },
        "types.ProjectInfo": {
            "type": "object",
            "properties": {
                "end": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "projectID": {
                    "type": "integer"
                },
                "start": {
                    "type": "string"
                }
            }
        },
        "types.RankInfo": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "points": {
                    "type": "integer"
                },
                "rank": {
                    "type": "integer"
                },
                "scores": {
                    "type": "integer"
                }
            }
        },
        "types.RankRes": {
            "type": "object",
            "properties": {
                "rnakInfo": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/types.RankInfo"
                    }
                }
            }
        },
        "types.TweetNFTInfoRes": {
            "type": "object",
            "properties": {
                "images": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "name": {
                    "type": "string"
                },
                "postTime": {
                    "type": "integer"
                },
                "tweet": {
                    "type": "string"
                }
            }
        },
        "types.UserInfoRes": {
            "type": "object",
            "properties": {
                "address": {
                    "type": "string"
                },
                "inviteCode": {
                    "type": "string"
                },
                "points": {
                    "type": "integer"
                },
                "referrals": {
                    "type": "integer"
                },
                "space": {
                    "type": "integer"
                }
            }
        }
    }
}